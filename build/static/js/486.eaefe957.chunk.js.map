{"version":3,"file":"static/js/486.eaefe957.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/signature_pad/dist/signature_pad.mjs","../node_modules/react-signature-canvas/src/index.tsx","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/InspectionSummary.js","components/InspectionItem.js","components/InspectionSection.js","utils/checklists.js","components/InspectionForm.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/trim-canvas/build/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","components/PhotoAnnotation.js","../node_modules/prop-types/index.js"],"sourcesContent":["function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","/*!\n * Signature Pad v2.3.2\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bézier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bézier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nPoint.prototype.equals = function (other) {\n  return this.x === other.x && this.y === other.y && this.time === other.time;\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\n/* eslint-disable */\n\n// http://stackoverflow.com/a/27078401/815507\nfunction throttle(func, wait, options) {\n  var context, args, result;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function () {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.throttle = 'throttle' in opts ? opts.throttle : 16; // in miliseconds\n  this.minDistance = 'minDistance' in opts ? opts.minDistance : 5;\n\n  if (this.throttle) {\n    this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n  } else {\n    this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n  }\n\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeMoveUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeMoveUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var image = new Image();\n  var ratio = options.ratio || window.devicePixelRatio || 1;\n  var width = options.width || this._canvas.width / ratio;\n  var height = options.height || this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n  var lastPointGroup = this._data[this._data.length - 1];\n  var lastPoint = lastPointGroup && lastPointGroup[lastPointGroup.length - 1];\n  var isLastPointTooClose = lastPoint && point.distanceTo(lastPoint) < this.minDistance;\n\n  // Skip this point if it's too close to the previous one\n  if (!(lastPoint && isLastPointTooClose)) {\n    var _addPoint = this._addPoint(point),\n        curve = _addPoint.curve,\n        widths = _addPoint.widths;\n\n    if (curve && widths) {\n      this._drawCurve(curve, widths.start, widths.end);\n    }\n\n    this._data[this._data.length - 1].push({\n      x: point.x,\n      y: point.y,\n      time: point.time,\n      color: this.penColor\n    });\n  }\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0]; // Point instance\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (point) {\n    var lastPointGroup = this._data[this._data.length - 1];\n    var lastPoint = lastPointGroup[lastPointGroup.length - 1]; // plain object\n\n    // When drawing a dot, there's only one point in a group, so without this check\n    // such group would end up with exactly the same 2 points.\n    if (!point.equals(lastPoint)) {\n      lastPointGroup.push({\n        x: point.x,\n        y: point.y,\n        time: point.time,\n        color: this.penColor\n      });\n    }\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n        var color = rawPoint.color;\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = color;\n          this._reset();\n\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths, color);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths, color) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', color);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', rawPoint.color);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n\n  this._data = pointGroups;\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nexport default SignaturePad;\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport SignaturePad from 'signature_pad'\nimport trimCanvas from 'trim-canvas'\n\nexport interface SignatureCanvasProps extends SignaturePad.SignaturePadOptions {\n  canvasProps?: React.CanvasHTMLAttributes<HTMLCanvasElement>\n  clearOnResize?: boolean\n}\n\nexport class SignatureCanvas extends Component<SignatureCanvasProps> {\n  static override propTypes = {\n    // signature_pad's props\n    velocityFilterWeight: PropTypes.number,\n    minWidth: PropTypes.number,\n    maxWidth: PropTypes.number,\n    minDistance: PropTypes.number,\n    dotSize: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    penColor: PropTypes.string,\n    throttle: PropTypes.number,\n    onEnd: PropTypes.func,\n    onBegin: PropTypes.func,\n    // props specific to the React wrapper\n    canvasProps: PropTypes.object,\n    clearOnResize: PropTypes.bool\n  }\n\n  static defaultProps: Pick<SignatureCanvasProps, 'clearOnResize'> = {\n    clearOnResize: true\n  }\n\n  static refNullError = new Error('react-signature-canvas is currently ' +\n    'mounting or unmounting: React refs are null during this phase.')\n\n  // shortcut reference (https://stackoverflow.com/a/29244254/3431180)\n  private readonly staticThis = this.constructor as typeof SignatureCanvas\n\n  _sigPad: SignaturePad | null = null\n  _canvas: HTMLCanvasElement | null = null\n\n  private readonly setRef = (ref: HTMLCanvasElement | null): void => {\n    this._canvas = ref\n    // if component is unmounted, set internal references to null\n    if (this._canvas === null) {\n      this._sigPad = null\n    }\n  }\n\n  _excludeOurProps = (): SignaturePad.SignaturePadOptions => {\n    const { canvasProps, clearOnResize, ...sigPadProps } = this.props\n    return sigPadProps\n  }\n\n  override componentDidMount: Component['componentDidMount'] = () => {\n    const canvas = this.getCanvas()\n    this._sigPad = new SignaturePad(canvas, this._excludeOurProps())\n    this._resizeCanvas()\n    this.on()\n  }\n\n  override componentWillUnmount: Component['componentWillUnmount'] = () => {\n    this.off()\n  }\n\n  // propagate prop updates to SignaturePad\n  override componentDidUpdate: Component['componentDidUpdate'] = () => {\n    Object.assign(this._sigPad, this._excludeOurProps())\n  }\n\n  // return the canvas ref for operations like toDataURL\n  getCanvas = (): HTMLCanvasElement => {\n    if (this._canvas === null) {\n      throw this.staticThis.refNullError\n    }\n    return this._canvas\n  }\n\n  // return a trimmed copy of the canvas\n  getTrimmedCanvas = (): HTMLCanvasElement => {\n    // copy the canvas\n    const canvas = this.getCanvas()\n    const copy = document.createElement('canvas')\n    copy.width = canvas.width\n    copy.height = canvas.height\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    copy.getContext('2d')!.drawImage(canvas, 0, 0)\n    // then trim it\n    return trimCanvas(copy)\n  }\n\n  // return the internal SignaturePad reference\n  getSignaturePad = (): SignaturePad => {\n    if (this._sigPad === null) {\n      throw this.staticThis.refNullError\n    }\n    return this._sigPad\n  }\n\n  _checkClearOnResize = (): void => {\n    if (!this.props.clearOnResize) { // eslint-disable-line @typescript-eslint/strict-boolean-expressions -- this is backward compatible with the previous behavior, where null was treated as falsey\n      return\n    }\n    this._resizeCanvas()\n  }\n\n  _resizeCanvas = (): void => {\n    const canvasProps = this.props.canvasProps ?? {}\n    const { width, height } = canvasProps\n    // don't resize if the canvas has fixed width and height\n    if (typeof width !== 'undefined' && typeof height !== 'undefined') {\n      return\n    }\n\n    const canvas = this.getCanvas()\n    /* When zoomed out to less than 100%, for some very strange reason,\n      some browsers report devicePixelRatio as less than 1\n      and only part of the canvas is cleared then. */\n    const ratio = Math.max(window.devicePixelRatio ?? 1, 1)\n\n    if (typeof width === 'undefined') {\n      canvas.width = canvas.offsetWidth * ratio\n    }\n    if (typeof height === 'undefined') {\n      canvas.height = canvas.offsetHeight * ratio\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    canvas.getContext('2d')!.scale(ratio, ratio)\n    this.clear()\n  }\n\n  override render: Component['render'] = () => {\n    const { canvasProps } = this.props\n    return <canvas ref={this.setRef} {...canvasProps} />\n  }\n\n  // all wrapper functions below render\n  //\n  on: SignaturePad['on'] = () => {\n    window.addEventListener('resize', this._checkClearOnResize)\n    return this.getSignaturePad().on()\n  }\n\n  off: SignaturePad['off'] = () => {\n    window.removeEventListener('resize', this._checkClearOnResize)\n    return this.getSignaturePad().off()\n  }\n\n  clear: SignaturePad['clear'] = () => {\n    return this.getSignaturePad().clear()\n  }\n\n  isEmpty: SignaturePad['isEmpty'] = () => {\n    return this.getSignaturePad().isEmpty()\n  }\n\n  fromDataURL: SignaturePad['fromDataURL'] = (dataURL, options) => {\n    return this.getSignaturePad().fromDataURL(dataURL, options)\n  }\n\n  toDataURL: SignaturePad['toDataURL'] = (type, encoderOptions) => {\n    return this.getSignaturePad().toDataURL(type, encoderOptions)\n  }\n\n  fromData: SignaturePad['fromData'] = (pointGroups) => {\n    return this.getSignaturePad().fromData(pointGroups)\n  }\n\n  toData: SignaturePad['toData'] = () => {\n    return this.getSignaturePad().toData()\n  }\n}\n\nexport default SignatureCanvas\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _createSuper(t) {\n  var r = isNativeReflectConstruct();\n  return function () {\n    var e,\n      o = getPrototypeOf(t);\n    if (r) {\n      var s = getPrototypeOf(this).constructor;\n      e = Reflect.construct(o, arguments, s);\n    } else e = o.apply(this, arguments);\n    return possibleConstructorReturn(this, e);\n  };\n}\nexport { _createSuper as default };","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import React, { useState, useRef } from 'react';\r\nimport SignatureCanvas from 'react-signature-canvas';\r\nimport { generateInspectionPdf } from '../utils/generatePdf';\r\nimport './InspectionForm.css';\r\n\r\nfunction InspectionSummary({ checklist, onDone, equipment, scheduledInspectionId = null }) {\r\n  const [summaryComments, setSummaryComments] = useState('');\r\n  const [inspector, setInspector] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const sigCanvas = useRef({});\r\n\r\n  // Prefill inspector from scheduled inspection if available\r\n  React.useEffect(() => {\r\n    const prefillInspector = async () => {\r\n      if (scheduledInspectionId) {\r\n        try {\r\n          // Get the scheduled inspection to prefill inspector\r\n          const scheduledInspections = await window.api.secureOperation('scheduledInspections', 'getAll');\r\n          const scheduledInspection = scheduledInspections.find(si => si.id === scheduledInspectionId);\r\n          if (scheduledInspection && scheduledInspection.assigned_inspector) {\r\n            setInspector(scheduledInspection.assigned_inspector);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching scheduled inspection for prefill:', error);\r\n        }\r\n      }\r\n      if (!inspector) {\r\n        setInspector('Inspector Name'); // Default fallback\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    prefillInspector();\r\n  }, [scheduledInspectionId]);\r\n\r\n  const allItems = checklist.flatMap(section => section.items);\r\n  const deficiencies = allItems.filter(item => item.result === 'fail');\r\n\r\n  const deficienciesByPriority = deficiencies.reduce((acc, item) => {\r\n    acc[item.priority] = (acc[item.priority] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n\r\n  const handleFinalize = async () => {\r\n    try {\r\n      const signature = sigCanvas.current.getTrimmedCanvas().toDataURL('image/png');\r\n      const inspectionDate = new Date().toISOString();\r\n      \r\n      // Create the main inspection record\r\n      const inspectionData = {\r\n        equipmentId: equipment.id,\r\n        inspector: inspector,\r\n        inspectionDate: inspectionDate,\r\n        findings: JSON.stringify(checklist),\r\n        correctiveActions: '', // Will be populated from deficiencies\r\n        summaryComments: summaryComments,\r\n        signature: signature,\r\n        scheduledInspectionId: scheduledInspectionId\r\n      };\r\n\r\n      // Use the appropriate secure operation based on whether this is from a scheduled inspection\r\n      const operation = scheduledInspectionId ? 'createFromScheduled' : 'create';\r\n      const result = await window.api.secureOperation('inspections', operation, inspectionData);\r\n      const inspectionId = result.lastID;\r\n\r\n      // Create itemized inspection items\r\n      for (const section of checklist) {\r\n        for (const item of section.items) {\r\n          const itemData = {\r\n            inspectionId: inspectionId,\r\n            standardRef: item.standardRef || null,\r\n            itemText: item.text,\r\n            critical: item.critical || false,\r\n            result: item.result,\r\n            notes: item.notes || '',\r\n            photos: JSON.stringify(item.photos || []),\r\n            component: item.component || '',\r\n            priority: item.priority || 'Minor'\r\n          };\r\n\r\n          const itemResult = await window.api.secureOperation('inspectionItems', 'create', itemData);\r\n          \r\n          // Create deficiency record for failed items\r\n          if (item.result === 'fail') {\r\n            const deficiencyData = {\r\n              equipmentId: equipment.id,\r\n              inspectionItemId: itemResult.lastID,\r\n              severity: item.priority.toLowerCase(),\r\n              removeFromService: item.priority === 'Critical',\r\n              description: item.notes || `Failed inspection item: ${item.text}`,\r\n              component: item.component || '',\r\n              correctiveAction: '',\r\n              dueDate: null, // Will be set later\r\n              status: 'open'\r\n            };\r\n\r\n            await window.api.secureOperation('deficiencies', 'create', deficiencyData);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Update scheduled inspection status if applicable\r\n      if (scheduledInspectionId) {\r\n        await window.api.secureOperation('scheduledInspections', 'updateStatus', {\r\n          id: scheduledInspectionId,\r\n          status: 'completed'\r\n        });\r\n      }\r\n\r\n      onDone(true); // Pass success = true\r\n    } catch (error) {\r\n      console.error('Error finalizing inspection:', error);\r\n      onDone(false); // Pass success = false\r\n    }\r\n  };\r\n\r\n  // Export PDF handler\r\n  const handleExportPdf = () => {\r\n    const signature = sigCanvas.current.getTrimmedCanvas().toDataURL('image/png');\r\n    const inspectionData = {\r\n      equipment_id: equipment.id,\r\n      inspector: 'Inspector Name', // Placeholder\r\n      inspection_date: new Date().toISOString(),\r\n      findings: JSON.stringify(checklist),\r\n      summary_comments: summaryComments,\r\n      signature: signature,\r\n    };\r\n    generateInspectionPdf(inspectionData);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"summary-container\">Loading inspection details...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"summary-container\">\r\n      <div className=\"report-header\">\r\n        <h2>Inspection Report</h2>\r\n        <p><strong>Equipment:</strong> {equipment.equipment_id} - {equipment.type}</p>\r\n        <p><strong>Date:</strong> {new Date().toLocaleDateString()}</p>\r\n        <div className=\"inspector-field\">\r\n          <label><strong>Inspector:</strong></label>\r\n          <input \r\n            type=\"text\" \r\n            value={inspector} \r\n            onChange={(e) => setInspector(e.target.value)}\r\n            placeholder=\"Enter inspector name\"\r\n            style={{ marginLeft: '8px', padding: '4px 8px', border: '1px solid #ccc', borderRadius: '4px' }}\r\n          />\r\n        </div>\r\n        {scheduledInspectionId && (\r\n          <p><strong>Scheduled Inspection ID:</strong> {scheduledInspectionId}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"at-a-glance\">\r\n        <h3>At a Glance</h3>\r\n        <p>Total Deficiencies: {deficiencies.length}</p>\r\n        <ul>\r\n          {Object.entries(deficienciesByPriority).map(([priority, count]) => (\r\n            <li key={priority}><strong>{priority}:</strong> {count}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"deficiencies-list\">\r\n        <h3>Deficiency Details</h3>\r\n        {deficiencies.length > 0 ? (\r\n          deficiencies.map((item, index) => (\r\n            <div key={index} className=\"deficiency-item\">\r\n              <p><strong>Item:</strong> {item.text}</p>\r\n              <p><strong>Component:</strong> {item.component}</p>\r\n              <p><strong>Priority:</strong> {item.priority}</p>\r\n              <p><strong>Notes:</strong> {item.notes}</p>\r\n              <div className=\"photo-gallery\">\r\n                {item.photos.map((photo, i) => (\r\n                  <img key={i} src={photo.dataUrl} alt={`Deficiency photo ${i + 1}`} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No deficiencies found.</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"summary-comments\">\r\n        <h3>Summary Comments</h3>\r\n        <textarea\r\n          value={summaryComments}\r\n          onChange={(e) => setSummaryComments(e.target.value)}\r\n          placeholder=\"Add overall summary comments here...\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"signature-section\">\r\n        <h3>Inspector Signature</h3>\r\n        <SignatureCanvas\r\n          ref={sigCanvas}\r\n          penColor='black'\r\n          canvasProps={{className: 'sig-canvas'}}\r\n        />\r\n        <button onClick={() => sigCanvas.current.clear()}>Clear</button>\r\n      </div>\r\n\r\n      <div className=\"summary-actions\">\r\n        <button className=\"export-btn\" onClick={handleExportPdf} type=\"button\">\r\n          Export PDF\r\n        </button>\r\n        <button className=\"done-btn\" onClick={handleFinalize}>\r\n          Finalize & Save Report\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InspectionSummary;\r\n","import React from 'react';\nimport './InspectionItem.css';\n\nfunction InspectionItem({ item, itemIndex, sectionTitle, onUpdateItem, onPhotoClick }) {\n  const handleResultChange = (result) => {\n    onUpdateItem(sectionTitle, itemIndex, { result: result.toLowerCase() });\n  };\n\n  const handleFieldChange = (field, value) => {\n    onUpdateItem(sectionTitle, itemIndex, { [field]: value });\n  };\n\n  const handlePhotoUpload = (e) => {\n    const files = Array.from(e.target.files);\n    const photoPromises = files.map(file => {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onload = (e) => resolve({\n          file,\n          dataUrl: e.target.result,\n          annotations: []\n        });\n        reader.readAsDataURL(file);\n      });\n    });\n    \n    Promise.all(photoPromises).then(photos => {\n      const updatedPhotos = [...item.photos, ...photos];\n      onUpdateItem(sectionTitle, itemIndex, { photos: updatedPhotos });\n    });\n  };\n\n  const handlePhotoRemove = (photoIndex) => {\n    const updatedPhotos = item.photos.filter((_, i) => i !== photoIndex);\n    onUpdateItem(sectionTitle, itemIndex, { photos: updatedPhotos });\n  };\n\n  return (\n    <div className=\"inspection-item\">\n      <span className=\"item-text\">{item.text}</span>\n      <div className=\"item-controls\">\n        {['Pass', 'Fail', 'N/A'].map(result => (\n          <button\n            type=\"button\"\n            key={result}\n            className={`result-btn ${result.toLowerCase()} ${item.result === result.toLowerCase() ? 'selected' : ''}`}\n            onClick={() => handleResultChange(result)}\n          >\n            {result}\n          </button>\n        ))}\n      </div>\n      \n      {item.result === 'fail' && (\n        <div className=\"deficiency-details\">\n          <div className=\"deficiency-field\">\n            <label>Priority:</label>\n            <select \n              value={item.priority} \n              onChange={(e) => handleFieldChange('priority', e.target.value)}\n            >\n              <option value=\"Critical\">Critical</option>\n              <option value=\"Major\">Major</option>\n              <option value=\"Minor\">Minor</option>\n            </select>\n          </div>\n          \n          <div className=\"deficiency-field\">\n            <label>Component:</label>\n            <input \n              type=\"text\" \n              value={item.component} \n              onChange={(e) => handleFieldChange('component', e.target.value)}\n              placeholder=\"Affected component\"\n            />\n          </div>\n          \n          <div className=\"deficiency-field\">\n            <label>Notes:</label>\n            <textarea \n              value={item.notes} \n              onChange={(e) => handleFieldChange('notes', e.target.value)}\n              placeholder=\"Detailed description of deficiency\"\n              rows=\"3\"\n            />\n          </div>\n          \n          <div className=\"deficiency-field\">\n            <label>Photos:</label>\n            <input \n              type=\"file\" \n              accept=\"image/*\" \n              multiple \n              onChange={handlePhotoUpload}\n            />\n            \n            {item.photos && item.photos.length > 0 && (\n              <div className=\"photo-thumbnails\">\n                {item.photos.map((photo, photoIndex) => (\n                  <div key={photoIndex} className=\"photo-thumbnail\">\n                    <img \n                      src={photo.dataUrl} \n                      alt={`Deficiency ${photoIndex + 1}`}\n                      onClick={() => onPhotoClick(sectionTitle, itemIndex, photoIndex, photo)}\n                    />\n                    <button \n                      type=\"button\"\n                      onClick={() => handlePhotoRemove(photoIndex)}\n                      className=\"remove-photo\"\n                    >\n                      ×\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default InspectionItem;","import React from 'react';\nimport InspectionItem from './InspectionItem';\nimport './InspectionSection.css';\n\nfunction InspectionSection({ \n  section, \n  isOpen, \n  onToggle, \n  onUpdateItem, \n  onPhotoClick \n}) {\n  const { title, items } = section;\n\n  return (\n    <div className=\"inspection-section\">\n      <h3 \n        className={`section-title ${isOpen ? 'open' : ''}`}\n        onClick={onToggle}\n      >\n        <span className=\"section-title-text\">{title}</span>\n        <span className=\"section-toggle-icon\">\n          {isOpen ? '▼' : '▶'}\n        </span>\n      </h3>\n      \n      {isOpen && (\n        <div className=\"section-content\">\n          {items.map((item, itemIndex) => (\n            <InspectionItem\n              key={item.id}\n              item={item}\n              itemIndex={itemIndex}\n              sectionTitle={title}\n              onUpdateItem={onUpdateItem}\n              onPhotoClick={onPhotoClick}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default InspectionSection;","export const checklists = {\r\n  'Overhead Crane': {\r\n    'Structure': [\r\n      { id: 'oc-s-1', text: 'Inspect main girders for damage or corrosion' },\r\n      { id: 'oc-s-2', text: 'Check end trucks for wear and tear' },\r\n    ],\r\n    'Hoisting System': [\r\n      { id: 'oc-h-1', text: 'Inspect hoist brake for proper function' },\r\n      { id: 'oc-h-2', text: 'Check wire rope for kinks or breaks' },\r\n    ],\r\n    'Trolley': [\r\n      { id: 'oc-t-1', text: 'Inspect trolley wheels for wear' },\r\n      { id: 'oc-t-2', text: 'Check trolley frame for cracks' },\r\n    ],\r\n    'Electrics': [\r\n      { id: 'oc-e-1', text: 'Inspect pendant for proper operation' },\r\n      { id: 'oc-e-2', text: 'Check wiring for frays or damage' },\r\n    ],\r\n    'Safety Features': [\r\n      { id: 'oc-sf-1', text: 'Verify limit switches are functional' },\r\n      { id: 'oc-sf-2', text: 'Check warning horn and lights' },\r\n    ],\r\n  },\r\n  'Gantry Crane': {\r\n    'Structure': [\r\n      { id: 'gc-s-1', text: 'Inspect legs and end beams for damage' },\r\n      { id: 'gc-s-2', text: 'Check runway for alignment and wear' },\r\n    ],\r\n    'Hoisting System': [\r\n      { id: 'gc-h-1', text: 'Inspect hoist brake for proper function' },\r\n      { id: 'gc-h-2', text: 'Check wire rope for kinks or breaks' },\r\n    ],\r\n  },\r\n  'Jib': {\r\n    'Structure': [\r\n      { id: 'j-s-1', text: 'Inspect mast and boom for damage' },\r\n      { id: 'j-s-2', text: 'Check foundation for cracks or movement' },\r\n    ],\r\n    'Rotation': [\r\n      { id: 'j-r-1', text: 'Check rotation stops and bearings' },\r\n    ],\r\n  },\r\n  'Monorail': {\r\n    'Track': [\r\n      { id: 'm-t-1', text: 'Inspect monorail track for wear and alignment' },\r\n      { id: 'm-t-2', text: 'Check track splices and hangers' },\r\n    ],\r\n    'Trolley': [\r\n      { id: 'm-tr-1', text: 'Inspect trolley wheels and frame' },\r\n    ],\r\n  },\r\n  'Hoist': {\r\n    'Hoisting System': [\r\n      { id: 'h-h-1', text: 'Inspect hoist brake for proper function' },\r\n      { id: 'h-h-2', text: 'Check chain or wire rope condition' },\r\n      { id: 'h-h-3', text: 'Inspect hook and latch' },\r\n    ],\r\n  },\r\n};\r\n\r\nlet customTemplates = {};\r\n\r\n// Try to import custom templates, but don't fail if the file doesn't exist\r\ntry {\r\n  customTemplates = require('./customTemplates.json');\r\n} catch (error) {\r\n  console.log('No custom templates file found, using default checklists only');\r\n  customTemplates = {};\r\n}\r\n\r\nexport const getChecklistForEquipment = (equipmentType) => {\r\n  if (customTemplates[equipmentType]) {\r\n    return customTemplates[equipmentType];\r\n  }\r\n  return checklists[equipmentType] || {};\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport './InspectionForm.css';\r\nimport Modal from './Modal';\r\nimport PhotoAnnotation from './PhotoAnnotation';\r\nimport InspectionSummary from './InspectionSummary';\r\nimport InspectionSection from './InspectionSection';\r\nimport { getChecklistForEquipment } from '../utils/checklists';\r\nimport { useEquipmentStore, useInspectionStore } from '../store';\r\n\r\nfunction InspectionForm({ onInspectionAdded, onCancel, showToast }) {\r\n  // Get equipment from either equipmentStore or inspectionStore\r\n  const inspectingEquipment = useEquipmentStore((state) => state.inspectingEquipment);\r\n  const addingInspectionFor = useInspectionStore((state) => state.addingInspectionFor);\r\n  \r\n  // Determine which equipment to use\r\n  const equipment = inspectingEquipment ||\r\n    (typeof addingInspectionFor === 'object' ? addingInspectionFor : { id: addingInspectionFor, type: '' });\r\n  const [sections, setSections] = useState([]);\r\n  const [showSummary, setShowSummary] = useState(false);\r\n  const [annotatingPhoto, setAnnotatingPhoto] = useState(null);\r\n  const [selectedPhotoInfo, setSelectedPhotoInfo] = useState(null);\r\n  const [openSection, setOpenSection] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const checklistData = getChecklistForEquipment(equipment.type);\r\n    const formattedSections = Object.keys(checklistData).map((title, index) => ({\r\n      title,\r\n      items: checklistData[title].map(item => ({ ...item, result: null, photos: [], notes: '', priority: 'Minor', component: '' })),\r\n    }));\r\n    setSections(formattedSections);\r\n    if (formattedSections.length > 0) {\r\n      setOpenSection(formattedSections[0].title);\r\n    }\r\n  }, [equipment.type]);\r\n\r\n  const handleUpdateItem = (sectionTitle, itemIndex, newValues) => {\r\n    const updatedSections = sections.map(section => {\r\n      if (section.title === sectionTitle) {\r\n        const updatedItems = [...section.items];\r\n        updatedItems[itemIndex] = { ...updatedItems[itemIndex], ...newValues };\r\n        return { ...section, items: updatedItems };\r\n      }\r\n      return section;\r\n    });\r\n    setSections(updatedSections);\r\n  };\r\n\r\n  const handlePhotoClick = (sectionTitle, itemIndex, photoIndex, photo) => {\r\n    setSelectedPhotoInfo({ sectionTitle, itemIndex, photoIndex });\r\n    setAnnotatingPhoto(photo);\r\n  };\r\n\r\n  const handlePhotoAnnotationSave = (annotatedPhoto) => {\r\n    if (selectedPhotoInfo) {\r\n      const { sectionTitle, itemIndex, photoIndex } = selectedPhotoInfo;\r\n      const updatedSections = sections.map(section => {\r\n        if (section.title === sectionTitle) {\r\n          const updatedItems = [...section.items];\r\n          const updatedPhotos = [...updatedItems[itemIndex].photos];\r\n          updatedPhotos[photoIndex] = annotatedPhoto;\r\n          updatedItems[itemIndex] = { ...updatedItems[itemIndex], photos: updatedPhotos };\r\n          return { ...section, items: updatedItems };\r\n        }\r\n        return section;\r\n      });\r\n      setSections(updatedSections);\r\n    }\r\n    setAnnotatingPhoto(null);\r\n    setSelectedPhotoInfo(null);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setShowSummary(true);\r\n      if (showToast) {\r\n        showToast('Inspection form completed successfully', 'success');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting inspection:', error);\r\n      if (showToast) {\r\n        showToast('Failed to submit inspection. Please try again.', 'error');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (showSummary) {\r\n    return <InspectionSummary \r\n      checklist={sections} \r\n      onDone={(success) => {\r\n        if (success && onInspectionAdded) {\r\n          onInspectionAdded();\r\n        }\r\n        onCancel();\r\n      }} \r\n      equipment={equipment} \r\n    />;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"inspection-form\">\r\n      {sections.map((section) => (\r\n        <InspectionSection\r\n          key={section.title}\r\n          section={section}\r\n          isOpen={openSection === section.title}\r\n          onToggle={() => setOpenSection(openSection === section.title ? null : section.title)}\r\n          onUpdateItem={handleUpdateItem}\r\n          onPhotoClick={handlePhotoClick}\r\n        />\r\n      ))}\r\n      \r\n      <div className=\"form-actions\">\r\n        <button type=\"button\" onClick={onCancel}>Cancel</button>\r\n        <button type=\"submit\">Review & Submit</button>\r\n      </div>\r\n      \r\n      {annotatingPhoto && (\r\n        <Modal onClose={() => setAnnotatingPhoto(null)}>\r\n          <PhotoAnnotation\r\n            photo={annotatingPhoto}\r\n            onSave={handlePhotoAnnotationSave}\r\n            onCancel={() => setAnnotatingPhoto(null)}\r\n          />\r\n        </Modal>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default InspectionForm;\r\n","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.trimCanvas=t():e.trimCanvas=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t){\"use strict\";function r(e){var t=e.getContext(\"2d\"),r=e.width,n=e.height,o=t.getImageData(0,0,r,n).data,f=a(!0,r,n,o),i=a(!1,r,n,o),c=u(!0,r,n,o),d=u(!1,r,n,o),p=d-c+1,l=i-f+1,s=t.getImageData(c,f,p,l);return e.width=p,e.height=l,t.clearRect(0,0,p,l),t.putImageData(s,0,0),e}function n(e,t,r,n){return{red:n[4*(r*t+e)],green:n[4*(r*t+e)+1],blue:n[4*(r*t+e)+2],alpha:n[4*(r*t+e)+3]}}function o(e,t,r,o){return n(e,t,r,o).alpha}function a(e,t,r,n){for(var a=e?1:-1,u=e?0:r-1,f=u;e?f<r:f>-1;f+=a)for(var i=0;i<t;i++)if(o(i,f,t,n))return f;return null}function u(e,t,r,n){for(var a=e?1:-1,u=e?0:t-1,f=u;e?f<t:f>-1;f+=a)for(var i=0;i<r;i++)if(o(f,i,t,n))return f;return null}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r}])});","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport { MarkerArea, ArrowMarker, TextMarker, EllipseMarker } from 'markerjs2';\r\nimport './PhotoAnnotation.css';\r\n\r\n// Photo compression utility\r\nconst compressImage = (file, quality = 0.8, maxWidth = 1920, maxHeight = 1080) => {\r\n  return new Promise((resolve) => {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    \r\n    img.onload = () => {\r\n      // Calculate new dimensions\r\n      let { width, height } = img;\r\n      if (width > maxWidth || height > maxHeight) {\r\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        width *= ratio;\r\n        height *= ratio;\r\n      }\r\n      \r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      \r\n      // Draw and compress\r\n      ctx.drawImage(img, 0, 0, width, height);\r\n      canvas.toBlob(resolve, 'image/jpeg', quality);\r\n    };\r\n    \r\n    img.src = URL.createObjectURL(file);\r\n  });\r\n};\r\n\r\nfunction PhotoAnnotation({ photo, onSave, onCancel, enableBatchMode = false, batchPhotos = [] }) {\r\n  const imgRef = useRef(null);\r\n  const markerAreaRef = useRef(null);\r\n  const [selectedColor, setSelectedColor] = useState('#FF0000');\r\n  const [compressionQuality, setCompressionQuality] = useState(0.8);\r\n  const [currentBatchIndex, setCurrentBatchIndex] = useState(0);\r\n  const [batchAnnotations, setBatchAnnotations] = useState({});\r\n  const [isAnnotating, setIsAnnotating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (imgRef.current && !isAnnotating) {\r\n      const markerArea = new MarkerArea(imgRef.current, {\r\n        targetRoot: document.body,\r\n        markerTypes: [ArrowMarker, TextMarker, EllipseMarker],\r\n      });\r\n\r\n      // Load existing annotations if they exist\r\n      if (photo.annotations && photo.annotations.length > 0) {\r\n        markerArea.restoreState(photo.annotations);\r\n      }\r\n\r\n      markerArea.addEventListener('render', (event) => {\r\n        const annotatedPhoto = {\r\n          ...photo,\r\n          dataUrl: event.dataUrl,\r\n          annotations: event.state\r\n        };\r\n        onSave(annotatedPhoto);\r\n      });\r\n\r\n      markerArea.addEventListener('close', () => {\r\n        if (onCancel) {\r\n          onCancel();\r\n        }\r\n      });\r\n\r\n      setIsAnnotating(true);\r\n      markerArea.show();\r\n      markerAreaRef.current = markerArea;\r\n    }\r\n\r\n    return () => {\r\n      if (markerAreaRef.current) {\r\n        markerAreaRef.current.close();\r\n        markerAreaRef.current = null;\r\n        setIsAnnotating(false);\r\n      }\r\n    };\r\n  }, [photo, onSave, onCancel, isAnnotating]);\r\n\r\n  const handleColorChange = (color) => {\r\n    setSelectedColor(color);\r\n    if (markerAreaRef.current) {\r\n      markerAreaRef.current.setMarkerColor(color);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (markerAreaRef.current) {\r\n      markerAreaRef.current.render();\r\n    }\r\n  };\r\n\r\n  const handleBatchSave = async () => {\r\n    if (enableBatchMode && batchPhotos.length > 0) {\r\n      const currentPhoto = batchPhotos[currentBatchIndex];\r\n      if (markerAreaRef.current && currentPhoto) {\r\n        // Save current annotations\r\n        const annotatedData = await new Promise((resolve) => {\r\n          markerAreaRef.current.addEventListener('render', (event) => {\r\n            resolve({\r\n              dataUrl: event.dataUrl,\r\n              annotations: markerAreaRef.current.getState()\r\n            });\r\n          }, { once: true });\r\n          markerAreaRef.current.render();\r\n        });\r\n        \r\n        setBatchAnnotations(prev => ({\r\n          ...prev,\r\n          [currentBatchIndex]: annotatedData\r\n        }));\r\n        \r\n        // Move to next photo or finish\r\n        if (currentBatchIndex < batchPhotos.length - 1) {\r\n          setCurrentBatchIndex(prev => prev + 1);\r\n        } else {\r\n          // All photos processed, save batch\r\n          if (onSave) {\r\n            onSave(batchAnnotations);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCompress = async () => {\r\n    const photoSrc = typeof photo === 'string' ? photo : photo.dataUrl;\r\n    if (photoSrc) {\r\n      try {\r\n        // Convert data URL to blob\r\n        const response = await fetch(photoSrc);\r\n        const blob = await response.blob();\r\n        \r\n        // Compress the image\r\n        const compressedBlob = await compressImage(blob, compressionQuality);\r\n        \r\n        // Convert back to data URL\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const compressedDataUrl = reader.result;\r\n          if (onSave) {\r\n            onSave({\r\n              dataUrl: compressedDataUrl,\r\n              compressed: true,\r\n              originalSize: blob.size,\r\n              compressedSize: compressedBlob.size,\r\n              compressionRatio: (1 - compressedBlob.size / blob.size).toFixed(2)\r\n            });\r\n          }\r\n        };\r\n        reader.readAsDataURL(compressedBlob);\r\n      } catch (error) {\r\n        console.error('Compression failed:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    if (markerAreaRef.current) {\r\n      markerAreaRef.current.close();\r\n    }\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  const handlePreviousBatch = () => {\r\n    if (currentBatchIndex > 0) {\r\n      setCurrentBatchIndex(prev => prev - 1);\r\n    }\r\n  };\r\n\r\n  const handleNextBatch = () => {\r\n    if (currentBatchIndex < batchPhotos.length - 1) {\r\n      setCurrentBatchIndex(prev => prev + 1);\r\n    }\r\n  };\r\n\r\n  // Get the photo source - handle both string URLs and photo objects\r\n  const currentPhoto = enableBatchMode && batchPhotos.length > 0 \r\n    ? batchPhotos[currentBatchIndex] \r\n    : photo;\r\n  const photoSrc = typeof currentPhoto === 'string' ? currentPhoto : currentPhoto?.dataUrl;\r\n\r\n  return (\r\n    <div className=\"photo-annotation-container\">\r\n      <div className=\"annotation-toolbar\">\r\n        <div className=\"toolbar-section\">\r\n          <label>Annotation Color:</label>\r\n          <input\r\n            type=\"color\"\r\n            value={selectedColor}\r\n            onChange={(e) => handleColorChange(e.target.value)}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"toolbar-section\">\r\n          <label>Compression Quality:</label>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0.1\"\r\n            max=\"1\"\r\n            step=\"0.1\"\r\n            value={compressionQuality}\r\n            onChange={(e) => setCompressionQuality(parseFloat(e.target.value))}\r\n          />\r\n          <span>{Math.round(compressionQuality * 100)}%</span>\r\n          <button onClick={handleCompress} className=\"compress-btn\">Compress Photo</button>\r\n        </div>\r\n        \r\n        {enableBatchMode && batchPhotos.length > 0 && (\r\n          <div className=\"toolbar-section batch-controls\">\r\n            <span>Photo {currentBatchIndex + 1} of {batchPhotos.length}</span>\r\n            <button \r\n              onClick={handlePreviousBatch} \r\n              disabled={currentBatchIndex === 0}\r\n              className=\"nav-btn\"\r\n            >\r\n              Previous\r\n            </button>\r\n            <button \r\n              onClick={handleNextBatch} \r\n              disabled={currentBatchIndex === batchPhotos.length - 1}\r\n              className=\"nav-btn\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"annotation-actions\">\r\n          {enableBatchMode ? (\r\n            <>\r\n              <button onClick={handleBatchSave} className=\"save-btn\">\r\n                {currentBatchIndex === batchPhotos.length - 1 ? 'Finish Batch' : 'Save & Next'}\r\n              </button>\r\n              <button onClick={handleCancel} className=\"cancel-btn\">Cancel Batch</button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <button onClick={handleSave} className=\"save-btn\">Save Annotations</button>\r\n              <button onClick={handleCancel} className=\"cancel-btn\">Cancel</button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <img \r\n        ref={imgRef} \r\n        src={photoSrc} \r\n        alt=\"For annotation\" \r\n        style={{ maxWidth: '100%', maxHeight: '70vh' }} \r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoAnnotation;\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n"],"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_defineProperties","o","enumerable","configurable","writable","defineProperty","toPropertyKey","key","_setPrototypeOf","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Boolean","prototype","valueOf","Reflect","construct","_possibleConstructorReturn","TypeError","ReferenceError","Point","x","y","time","this","Date","getTime","Bezier","startPoint","control1","control2","endPoint","SignaturePad","canvas","options","self","opts","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","_strokeMoveUpdate","func","wait","context","args","result","timeout","previous","later","leading","now","remaining","clearTimeout","trailing","setTimeout","_strokeUpdate","dotSize","penColor","backgroundColor","onBegin","onEnd","_canvas","_ctx","getContext","clear","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","preventDefault","_handleTouchEnd","target","on","velocityFrom","start","distanceTo","Math","sqrt","pow","equals","other","px","py","i","cx","_point","cy","xdiff","ydiff","c1","c2","end","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","fromDataURL","dataUrl","_this","undefined","image","Image","ratio","window","devicePixelRatio","src","onload","drawImage","toDataURL","type","_toSVG","_len","Array","_key","concat","_handleMouseEvents","_handleTouchEvents","off","removeEventListener","document","isEmpty","push","clientX","clientY","point","_createPoint","lastPointGroup","lastPoint","isLastPointTooClose","_addPoint","curve","widths","_drawCurve","color","canDrawCurve","points","_drawDot","addEventListener","style","msTouchAction","touchAction","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","unshift","_calculateCurveControlPoints","c3","_calculateCurveWidths","shift","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","velocity","newWidth","_strokeWidth","max","_drawPoint","size","moveTo","arc","PI","startWidth","endWidth","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","closePath","fill","_fromData","pointGroups","drawCurve","drawDot","group","j","rawPoint","_addPoint2","_this2","maxX","maxY","svg","createElementNS","setAttributeNS","path","createElement","isNaN","attr","toFixed","setAttribute","appendChild","circle","header","body","innerHTML","dummy","nodes","childNodes","cloneNode","btoa","fromData","_this3","toData","SignatureCanvas","_Component","create","constructor","value","_inherits","_super","s","_createSuper","a","_classCallCheck","staticThis","_sigPad","setRef","ref","_excludeOurProps","_this$props","props","canvasProps","clearOnResize","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_objectWithoutProperties","_excluded","componentDidMount","getCanvas","_resizeCanvas","componentWillUnmount","componentDidUpdate","refNullError","getTrimmedCanvas","copy","trimCanvas","getSignaturePad","_checkClearOnResize","_this$props$canvasPro","_window$devicePixelRa","offsetWidth","offsetHeight","scale","render","React","dataURL","encoderOptions","Component","propTypes","PropTypes","defaultProps","Error","_ref","checklist","onDone","equipment","scheduledInspectionId","summaryComments","setSummaryComments","useState","inspector","setInspector","isLoading","setIsLoading","sigCanvas","useRef","async","scheduledInspection","api","secureOperation","find","si","id","assigned_inspector","error","console","prefillInspector","deficiencies","flatMap","section","items","filter","item","deficienciesByPriority","reduce","acc","priority","_jsx","className","children","_jsxs","equipment_id","toLocaleDateString","onChange","placeholder","marginLeft","padding","border","borderRadius","entries","map","_ref2","count","index","text","component","notes","photos","photo","alt","onClick","current","handleExportPdf","signature","inspectionData","inspection_date","toISOString","findings","JSON","stringify","summary_comments","generateInspectionPdf","inspectionDate","equipmentId","correctiveActions","operation","inspectionId","lastID","itemData","standardRef","itemText","critical","itemResult","deficiencyData","inspectionItemId","severity","toLowerCase","removeFromService","description","correctiveAction","dueDate","status","itemIndex","sectionTitle","onUpdateItem","onPhotoClick","handleFieldChange","field","handleResultChange","rows","accept","multiple","photoPromises","from","files","file","Promise","resolve","reader","FileReader","annotations","readAsDataURL","all","then","updatedPhotos","photoIndex","_","handlePhotoRemove","isOpen","onToggle","title","InspectionItem","checklists","customTemplates","require","log","onInspectionAdded","onCancel","showToast","inspectingEquipment","useEquipmentStore","state","addingInspectionFor","useInspectionStore","sections","setSections","showSummary","setShowSummary","annotatingPhoto","setAnnotatingPhoto","selectedPhotoInfo","setSelectedPhotoInfo","openSection","setOpenSection","useEffect","checklistData","equipmentType","formattedSections","keys","handleUpdateItem","newValues","updatedSections","updatedItems","handlePhotoClick","InspectionSummary","success","onSubmit","InspectionSection","Modal","onClose","PhotoAnnotation","onSave","annotatedPhoto","Symbol","toPrimitive","String","Number","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","propName","componentName","location","propFullName","secret","err","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","loaded","m","c","p","getImageData","data","f","l","putImageData","red","green","blue","alpha","default","enableBatchMode","batchPhotos","imgRef","markerAreaRef","selectedColor","setSelectedColor","compressionQuality","setCompressionQuality","currentBatchIndex","setCurrentBatchIndex","batchAnnotations","setBatchAnnotations","isAnnotating","setIsAnnotating","markerArea","MarkerArea","targetRoot","markerTypes","ArrowMarker","TextMarker","EllipseMarker","restoreState","show","close","handleCancel","currentPhoto","photoSrc","handleColorChange","setMarkerColor","min","step","parseFloat","round","response","fetch","blob","compressedBlob","quality","maxHeight","img","toBlob","URL","createObjectURL","compressImage","compressedDataUrl","compressed","originalSize","compressedSize","compressionRatio","handlePreviousBatch","prev","disabled","handleNextBatch","_Fragment","annotatedData","getState","once"],"sourceRoot":""}