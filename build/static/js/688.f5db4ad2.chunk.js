"use strict";(self.webpackChunkjsg_inspections=self.webpackChunkjsg_inspections||[]).push([[688],{4688:(n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5043),a=e(2877),s=e(579);const o=function(n){let{photo:t,onSave:e,onCancel:o}=n;const c=(0,r.useRef)(null),l=(0,r.useRef)(null),[i,u]=(0,r.useState)("#FF0000"),[d,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(c.current&&!d){const n=new a.eF(c.current,{targetRoot:document.body,markerTypes:[a.yA,a.MX,a.nY]});t.annotations&&t.annotations.length>0&&n.restoreState(t.annotations),n.addEventListener("render",n=>{const r={...t,dataUrl:n.dataUrl,annotations:n.state};e(r)}),n.addEventListener("close",()=>{o&&o()}),h(!0),n.show(),l.current=n}return()=>{l.current&&(l.current.close(),l.current=null,h(!1))}},[t,e,o,d]);const v="string"===typeof t?t:t.dataUrl;return(0,s.jsxs)("div",{className:"photo-annotation-container",children:[(0,s.jsxs)("div",{className:"annotation-toolbar",children:[(0,s.jsx)("label",{children:"Annotation Color:"}),(0,s.jsx)("input",{type:"color",value:i,onChange:n=>{return t=n.target.value,u(t),void(l.current&&l.current.setMarkerColor(t));var t}}),(0,s.jsxs)("div",{className:"annotation-actions",children:[(0,s.jsx)("button",{onClick:()=>{l.current&&l.current.render()},className:"save-btn",children:"Save Annotations"}),(0,s.jsx)("button",{onClick:()=>{l.current&&l.current.close(),o&&o()},className:"cancel-btn",children:"Cancel"})]})]}),(0,s.jsx)("img",{ref:c,src:v,alt:"For annotation",style:{maxWidth:"100%",maxHeight:"70vh"}})]})}}}]);
//# sourceMappingURL=688.f5db4ad2.chunk.js.map