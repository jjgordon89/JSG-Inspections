"use strict";(self.webpackChunkjsg_inspections=self.webpackChunkjsg_inspections||[]).push([[25,879],{3400:(e,s,a)=>{a.d(s,{EJ:()=>c,F3:()=>l,aD:()=>i,cz:()=>n,eu:()=>r});var t=a(5043);a(579);const r=e=>{t.useEffect(()=>{const s=performance.now();return()=>{const a=performance.now()-s;a>100&&console.warn(`Slow render detected in ${e}: ${a.toFixed(2)}ms`)}})},i=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const a=[];for(let t=0;t<e.length;t+=s){const r=e.slice(t,t+s),i=await Promise.all(r);a.push(...i),t+s<e.length&&await new Promise(e=>setTimeout(e,50))}return a},l={analyzeBundleSize(){const e=Array.from(document.querySelectorAll("script[src]")),s=Array.from(document.querySelectorAll('link[rel="stylesheet"]'));return{scripts:e.map(e=>({src:e.src,async:e.async,defer:e.defer})),stylesheets:s.map(e=>({href:e.href,media:e.media})),totalScripts:e.length,totalStylesheets:s.length}},getResourceMetrics(){if(!window.performance||!window.performance.getEntriesByType)return null;const e=window.performance.getEntriesByType("resource"),s=window.performance.getEntriesByType("navigation")[0];return{totalResources:e.length,totalLoadTime:s?s.loadEventEnd-s.fetchStart:0,domContentLoaded:s?s.domContentLoadedEventEnd-s.fetchStart:0,largestResources:e.sort((e,s)=>s.transferSize-e.transferSize).slice(0,10).map(e=>({name:e.name,size:e.transferSize,duration:e.duration,type:e.initiatorType}))}},getOptimizationRecommendations(){const e=[],s=this.getResourceMetrics();if(!s)return["Performance API not available"];const a=s.largestResources.filter(e=>e.size>5e5);return a.length>0&&e.push(`Consider code splitting or lazy loading for ${a.length} large resources`),s.totalLoadTime>3e3&&e.push("Total load time exceeds 3 seconds - consider optimizing critical resources"),s.domContentLoaded>1500&&e.push("DOM content loaded time is slow - optimize critical CSS and JavaScript"),s.totalResources>50&&e.push("High number of resources - consider bundling or HTTP/2 server push"),e.length>0?e:["Bundle performance looks good!"]}},c={getMemoryUsage(){if(!window.performance||!window.performance.memory)return null;const e=window.performance.memory;return{usedJSHeapSize:Math.round(e.usedJSHeapSize/1048576),totalJSHeapSize:Math.round(e.totalJSHeapSize/1048576),jsHeapSizeLimit:Math.round(e.jsHeapSizeLimit/1048576),usage:Math.round(e.usedJSHeapSize/e.jsHeapSizeLimit*100)}},startMonitoring(){let e=arguments.length>1?arguments[1]:void 0;const s=setInterval(()=>{const s=this.getMemoryUsage();s&&e&&e(s)},arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3);return()=>clearInterval(s)}},n={budgets:{loadTime:3e3,domContentLoaded:1500,maxResourceSize:5e5,maxResources:50,maxMemoryUsage:80},checkBudget(){const e=l.getResourceMetrics(),s=c.getMemoryUsage(),a={};if(e){a.loadTime={actual:e.totalLoadTime,budget:this.budgets.loadTime,passed:e.totalLoadTime<=this.budgets.loadTime},a.domContentLoaded={actual:e.domContentLoaded,budget:this.budgets.domContentLoaded,passed:e.domContentLoaded<=this.budgets.domContentLoaded},a.resourceCount={actual:e.totalResources,budget:this.budgets.maxResources,passed:e.totalResources<=this.budgets.maxResources};const s=e.largestResources.filter(e=>e.size>this.budgets.maxResourceSize);a.resourceSize={actual:s.length,budget:0,passed:0===s.length}}return s&&(a.memoryUsage={actual:s.usage,budget:this.budgets.maxMemoryUsage,passed:s.usage<=this.budgets.maxMemoryUsage}),a}}},6025:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(5043),r=a(3400),i=a(8221),l=a(579);const c=e=>{let{isOpen:s=!1,onClose:a,metrics:c}=e;const n=s,{darkMode:d}=(0,i.A)(),[o,m]=(0,t.useState)({bundle:null,memory:null,budget:null,resources:null}),[h,u]=(0,t.useState)(!1),[x,p]=(0,t.useState)([]);(0,t.useRef)(null);(0,t.useEffect)(()=>{n&&g()},[n]),(0,t.useEffect)(()=>{if(h&&n){const e=setInterval(g,5e3);return()=>clearInterval(e)}},[h,n]);const g=()=>{const e=r.F3.analyzeBundleSize(),s=r.F3.getResourceMetrics(),a={bundle:e,memory:r.EJ.getMemoryUsage(),budget:r.cz.checkBudget(),resources:s,recommendations:r.F3.getOptimizationRecommendations(),timestamp:(new Date).toISOString()};m(a),p(e=>[...e,a].slice(-20))};if(!n)return null;const j=d?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-900 border-gray-300",v=d?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200";return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:`${j} border rounded-lg shadow-xl w-11/12 max-w-6xl max-h-5/6 overflow-hidden`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-300 dark:border-gray-600",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Performance Monitor"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{u(!h)},className:"px-3 py-1 rounded text-sm font-medium "+(h?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"),children:h?"Stop Monitoring":"Start Monitoring"}),(0,l.jsx)("button",{onClick:g,className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm font-medium",children:"Refresh"}),(0,l.jsx)("button",{onClick:()=>{const e=JSON.stringify(x,null,2),s=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download=`performance-metrics-${(new Date).toISOString().split("T")[0]}.json`,t.click(),URL.revokeObjectURL(a)},className:"px-3 py-1 bg-purple-500 hover:bg-purple-600 text-white rounded text-sm font-medium",disabled:0===x.length,children:"Export"}),(0,l.jsx)("button",{onClick:a,className:"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded text-sm font-medium",children:"Close"})]})]}),(0,l.jsxs)("div",{className:"p-4 overflow-y-auto max-h-full",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.memory&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Memory Usage"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Used Heap:"}),(0,l.jsxs)("span",{className:"font-mono",children:[o.memory.usedJSHeapSize," MB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Total Heap:"}),(0,l.jsxs)("span",{className:"font-mono",children:[o.memory.totalJSHeapSize," MB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Heap Limit:"}),(0,l.jsxs)("span",{className:"font-mono",children:[o.memory.jsHeapSizeLimit," MB"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Usage:"}),(0,l.jsxs)("span",{className:"font-mono "+(o.memory.usage>80?"text-red-500":o.memory.usage>60?"text-yellow-500":"text-green-500"),children:[o.memory.usage,"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full "+(o.memory.usage>80?"bg-red-500":o.memory.usage>60?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(o.memory.usage,100)}%`}})})]})]}),o.resources&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Resource Metrics"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Total Resources:"}),(0,l.jsx)("span",{className:"font-mono",children:o.resources.totalResources})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Load Time:"}),(0,l.jsxs)("span",{className:"font-mono "+(o.resources.totalLoadTime>3e3?"text-red-500":o.resources.totalLoadTime>1500?"text-yellow-500":"text-green-500"),children:[Math.round(o.resources.totalLoadTime),"ms"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"DOM Content Loaded:"}),(0,l.jsxs)("span",{className:"font-mono "+(o.resources.domContentLoaded>1500?"text-red-500":o.resources.domContentLoaded>800?"text-yellow-500":"text-green-500"),children:[Math.round(o.resources.domContentLoaded),"ms"]})]})]})]}),o.bundle&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Bundle Analysis"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Scripts:"}),(0,l.jsx)("span",{className:"font-mono",children:o.bundle.totalScripts})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Stylesheets:"}),(0,l.jsx)("span",{className:"font-mono",children:o.bundle.totalStylesheets})]})]})]}),o.budget&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Performance Budget"}),(0,l.jsx)("div",{className:"space-y-2",children:Object.entries(o.budget).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("span",{className:"capitalize",children:[s.replace(/([A-Z])/g," $1").trim(),":"]}),(0,l.jsx)("span",{className:"font-mono px-2 py-1 rounded text-xs "+(a.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.passed?"PASS":"FAIL"})]},s)})})]})]}),o.recommendations&&o.recommendations.length>0&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4 mt-6`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Optimization Recommendations"}),(0,l.jsx)("ul",{className:"space-y-2",children:o.recommendations.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-blue-500 mr-2",children:"\u2022"}),(0,l.jsx)("span",{children:e})]},s))})]}),o.resources&&o.resources.largestResources&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4 mt-6`,children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Largest Resources"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[(0,l.jsx)("th",{className:"text-left py-2",children:"Resource"}),(0,l.jsx)("th",{className:"text-left py-2",children:"Size"}),(0,l.jsx)("th",{className:"text-left py-2",children:"Duration"}),(0,l.jsx)("th",{className:"text-left py-2",children:"Type"})]})}),(0,l.jsx)("tbody",{children:o.resources.largestResources.slice(0,5).map((e,s)=>(0,l.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,l.jsx)("td",{className:"py-2 truncate max-w-xs",title:e.name,children:e.name.split("/").pop()}),(0,l.jsx)("td",{className:"py-2 font-mono",children:e.size?`${Math.round(e.size/1024)} KB`:"N/A"}),(0,l.jsxs)("td",{className:"py-2 font-mono",children:[Math.round(e.duration),"ms"]}),(0,l.jsx)("td",{className:"py-2",children:e.type})]},s))})]})})]}),x.length>1&&(0,l.jsxs)("div",{className:`${v} border rounded-lg p-4 mt-6`,children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Performance History"}),(0,l.jsx)("button",{onClick:()=>{p([])},className:"px-2 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs",children:"Clear History"})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing last ",x.length," measurements"]}),(0,l.jsx)("div",{className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:x.slice(-5).map((e,s)=>(0,l.jsxs)("div",{className:"text-xs font-mono",children:[new Date(e.timestamp).toLocaleTimeString(),":",e.memory&&` Memory: ${e.memory.usage}%`,e.resources&&` Load: ${Math.round(e.resources.totalLoadTime)}ms`]},s))})]})]})]})})}},7879:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(5043),r=a(7304),i=a(7690),l=a(3400),c=a(9672),n=a(6025),d=a(579);r.t1.register(r.PP,r.kc,r.E8,r.hE,r.m_,r.s$,r.Bs);const o=()=>{const{darkMode:e}=(0,i.j_)(),{refresh:s}=(0,i.r9)(),{viewingInspectionsFor:a}=(0,i.bc)(),[r,o]=(0,t.useState)({equipment:{total:0,active:0,outOfService:0,taggedOut:0},inspections:{total:0,thisMonth:0,overdue:0,upcoming:0},workOrders:{total:0,open:0,inProgress:0,overdue:0},deficiencies:{total:0,critical:0,overdue:0},pmSchedules:{total:0,due:0,overdue:0},loadTests:{total:0,due:0,overdue:0},calibrations:{total:0,due:0,overdue:0},certificates:{total:0,expiring:0},credentials:{total:0,expiring:0}}),[m,h]=(0,t.useState)(!0),[u,x]=(0,t.useState)(null),[p,g]=(0,t.useState)("30"),[j,v]=(0,t.useState)(!1),{metrics:N}=(0,l.eu)("Dashboard");(0,t.useEffect)(()=>{b()},[p]);const b=async()=>{try{var e;h(!0),x(null);const s=(new Date).toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()+parseInt(p));const t=a.toISOString().split("T")[0],r=[()=>(0,c.rg)("equipment","getAll"),()=>(0,c.rg)("equipment","getStatusCounts"),()=>(0,c.rg)("inspections","getCount"),()=>(0,c.rg)("inspections","getPerMonth"),()=>(0,c.rg)("inspections","getOverdue"),()=>(0,c.rg)("scheduledInspections","getUpcoming",s),()=>(0,c.rg)("workOrders","getAll"),()=>(0,c.rg)("workOrders","getDueToday"),()=>(0,c.rg)("workOrders","getOverdue"),()=>(0,c.rg)("deficiencies","getAll"),()=>(0,c.rg)("deficiencies","getOpenCritical"),()=>(0,c.rg)("deficiencies","getOverdue"),()=>(0,c.rg)("pmSchedules","getTotal"),()=>(0,c.rg)("pmSchedules","getDue",t),()=>(0,c.rg)("pmSchedules","getOverdue"),()=>(0,c.rg)("loadTests","getTotal"),()=>(0,c.rg)("loadTests","getDue",t),()=>(0,c.rg)("loadTests","getOverdue"),()=>(0,c.rg)("calibrations","getTotal"),()=>(0,c.rg)("calibrations","getDue",t),()=>(0,c.rg)("calibrations","getOverdue"),()=>(0,c.rg)("certificates","getTotal"),()=>(0,c.rg)("certificates","getExpiring",t),()=>(0,c.rg)("credentials","getTotal"),()=>(0,c.rg)("credentials","getExpiring",t)],[i,n,d,m,u,g,j,v,N,b,y,f,w,S,A,C,O,k,M,T,L,z,R,D,q]=await(0,l.aD)(r,3),$=Array.isArray(n)?n.reduce((e,s)=>(s&&s.status&&"number"===typeof s.count&&(e[s.status]=s.count),e),{}):{},E=(new Date).toISOString().substring(0,7),P=Array.isArray(m)&&(null===(e=m.find(e=>e&&e.month===E))||void 0===e?void 0:e.count)||0,H=Array.isArray(j)?j.reduce((e,s)=>(s&&s.status&&(e[s.status]=(e[s.status]||0)+1),e),{}):{};o({equipment:{total:Array.isArray(i)?i.length:0,active:$.active||0,outOfService:$.out_of_service||0,taggedOut:Array.isArray(i)?i.filter(e=>e&&e.tagged_out).length:0},inspections:{total:"number"===typeof d?d:0,thisMonth:P,overdue:Array.isArray(u)?u.length:0,upcoming:Array.isArray(g)?g.length:0},workOrders:{total:Array.isArray(j)?j.length:0,open:(H.draft||0)+(H.approved||0)+(H.assigned||0),inProgress:H.in_progress||0,overdue:Array.isArray(N)?N.length:0},deficiencies:{total:Array.isArray(b)?b.length:0,critical:Array.isArray(y)?y.length:0,overdue:Array.isArray(f)?f.length:0},pmSchedules:{total:"number"===typeof w?w:0,due:Array.isArray(S)?S.length:0,overdue:Array.isArray(A)?A.length:0},loadTests:{total:"number"===typeof C?C:0,due:Array.isArray(O)?O.length:0,overdue:Array.isArray(k)?k.length:0},calibrations:{total:"number"===typeof M?M:0,due:Array.isArray(T)?T.length:0,overdue:Array.isArray(L)?L.length:0},certificates:{total:"number"===typeof z?z:0,expiring:Array.isArray(R)?R.length:0},credentials:{total:"number"===typeof D?D:0,expiring:Array.isArray(q)?q.length:0}})}catch(s){console.error("Error loading dashboard data:",s),x(s.message)}finally{h(!1)}},y=(e,s,a)=>"critical"===e&&s>0?"status-critical":"overdue"===e&&s>0?"status-overdue":"due"===e&&s>0||"expiring"===e&&s>0?"status-warning":"status-good";return m?(0,d.jsxs)("div",{className:"dashboard",children:[(0,d.jsx)("div",{className:"dashboard-header",children:(0,d.jsx)("h1",{children:"CMMS Dashboard"})}),(0,d.jsx)("div",{className:"loading-spinner",children:"Loading dashboard data..."})]}):u?(0,d.jsxs)("div",{className:"dashboard",children:[(0,d.jsx)("div",{className:"dashboard-header",children:(0,d.jsx)("h1",{children:"CMMS Dashboard"})}),(0,d.jsxs)("div",{className:"error-message",children:[(0,d.jsxs)("p",{children:["Error loading dashboard: ",u]}),(0,d.jsx)("button",{onClick:b,className:"retry-button",children:"Retry"})]})]}):(0,d.jsxs)("div",{className:"dashboard",children:[(0,d.jsxs)("div",{className:"dashboard-header",children:[(0,d.jsx)("h1",{children:"CMMS Dashboard"}),(0,d.jsxs)("div",{className:"timeframe-selector",children:[(0,d.jsx)("label",{children:"Forecast Period:"}),(0,d.jsxs)("select",{value:p,onChange:e=>g(e.target.value),children:[(0,d.jsx)("option",{value:"7",children:"7 Days"}),(0,d.jsx)("option",{value:"30",children:"30 Days"}),(0,d.jsx)("option",{value:"60",children:"60 Days"}),(0,d.jsx)("option",{value:"90",children:"90 Days"})]}),(0,d.jsx)("button",{onClick:()=>v(!0),className:"performance-monitor-btn",title:"Open Performance Monitor",children:"\ud83d\udcca Performance"})]})]}),(0,d.jsxs)("div",{className:"dashboard-grid",children:[(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Equipment Status"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value",children:r.equipment.total}),(0,d.jsx)("span",{className:"metric-label",children:"Total Assets"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-good",children:r.equipment.active}),(0,d.jsx)("span",{className:"metric-label",children:"Active"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("critical",r.equipment.outOfService)}`,children:r.equipment.outOfService}),(0,d.jsx)("span",{className:"metric-label",children:"Out of Service"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("critical",r.equipment.taggedOut)}`,children:r.equipment.taggedOut}),(0,d.jsx)("span",{className:"metric-label",children:"Tagged Out"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Inspections"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value",children:r.inspections.total}),(0,d.jsx)("span",{className:"metric-label",children:"Total"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-good",children:r.inspections.thisMonth}),(0,d.jsx)("span",{className:"metric-label",children:"This Month"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("due",r.inspections.upcoming)}`,children:r.inspections.upcoming}),(0,d.jsx)("span",{className:"metric-label",children:"Upcoming"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("overdue",r.inspections.overdue)}`,children:r.inspections.overdue}),(0,d.jsx)("span",{className:"metric-label",children:"Overdue"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Work Orders"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value",children:r.workOrders.total}),(0,d.jsx)("span",{className:"metric-label",children:"Total"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-warning",children:r.workOrders.open}),(0,d.jsx)("span",{className:"metric-label",children:"Open"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-good",children:r.workOrders.inProgress}),(0,d.jsx)("span",{className:"metric-label",children:"In Progress"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("overdue",r.workOrders.overdue)}`,children:r.workOrders.overdue}),(0,d.jsx)("span",{className:"metric-label",children:"Overdue"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Deficiencies"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value",children:r.deficiencies.total}),(0,d.jsx)("span",{className:"metric-label",children:"Total"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("critical",r.deficiencies.critical)}`,children:r.deficiencies.critical}),(0,d.jsx)("span",{className:"metric-label",children:"Critical Open"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("overdue",r.deficiencies.overdue)}`,children:r.deficiencies.overdue}),(0,d.jsx)("span",{className:"metric-label",children:"Overdue"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-good",children:r.deficiencies.total-r.deficiencies.critical-r.deficiencies.overdue}),(0,d.jsx)("span",{className:"metric-label",children:"On Track"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Preventive Maintenance"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value",children:r.pmSchedules.total}),(0,d.jsx)("span",{className:"metric-label",children:"Total Schedules"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("due",r.pmSchedules.due)}`,children:r.pmSchedules.due}),(0,d.jsx)("span",{className:"metric-label",children:"Due Soon"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("overdue",r.pmSchedules.overdue)}`,children:r.pmSchedules.overdue}),(0,d.jsx)("span",{className:"metric-label",children:"Overdue"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:"metric-value status-good",children:Math.max(0,r.pmSchedules.total-r.pmSchedules.due-r.pmSchedules.overdue)}),(0,d.jsx)("span",{className:"metric-label",children:"Current"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card",children:[(0,d.jsx)("h3",{children:"Crane Compliance"}),(0,d.jsxs)("div",{className:"metrics-grid",children:[(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("due",r.loadTests.due)}`,children:r.loadTests.due}),(0,d.jsx)("span",{className:"metric-label",children:"Load Tests Due"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("due",r.calibrations.due)}`,children:r.calibrations.due}),(0,d.jsx)("span",{className:"metric-label",children:"Calibrations Due"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("expiring",r.certificates.expiring)}`,children:r.certificates.expiring}),(0,d.jsx)("span",{className:"metric-label",children:"Certificates Expiring"})]}),(0,d.jsxs)("div",{className:"metric",children:[(0,d.jsx)("span",{className:`metric-value ${y("expiring",r.credentials.expiring)}`,children:r.credentials.expiring}),(0,d.jsx)("span",{className:"metric-label",children:"Credentials Expiring"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card quick-actions",children:[(0,d.jsx)("h3",{children:"Quick Actions"}),(0,d.jsxs)("div",{className:"action-buttons",children:[(0,d.jsx)("button",{className:"action-button primary",onClick:()=>window.location.hash="#/scheduler",children:"\ud83d\udcc5 Schedule Inspection"}),(0,d.jsx)("button",{className:"action-button secondary",onClick:()=>window.location.hash="#/work-orders",children:"\ud83d\udd27 Create Work Order"}),(0,d.jsx)("button",{className:"action-button secondary",onClick:()=>window.location.hash="#/deficiencies",children:"\u26a0\ufe0f View Deficiencies"}),(0,d.jsx)("button",{className:"action-button secondary",onClick:()=>window.location.hash="#/compliance",children:"\ud83d\udccb Compliance Report"})]})]}),(0,d.jsxs)("div",{className:"dashboard-card recent-activity",children:[(0,d.jsx)("h3",{children:"Recent Activity"}),(0,d.jsxs)("div",{className:"activity-list",children:[(0,d.jsxs)("div",{className:"activity-item",children:[(0,d.jsx)("span",{className:"activity-icon",children:"\ud83d\udd0d"}),(0,d.jsx)("span",{className:"activity-text",children:"System ready for P2 feature development"}),(0,d.jsx)("span",{className:"activity-time",children:"Just now"})]}),(0,d.jsxs)("div",{className:"activity-item",children:[(0,d.jsx)("span",{className:"activity-icon",children:"\u2705"}),(0,d.jsx)("span",{className:"activity-text",children:"P2 database migrations completed"}),(0,d.jsx)("span",{className:"activity-time",children:"Just now"})]}),(0,d.jsxs)("div",{className:"activity-item",children:[(0,d.jsx)("span",{className:"activity-icon",children:"\ud83d\udd12"}),(0,d.jsx)("span",{className:"activity-text",children:"All secure operations implemented"}),(0,d.jsx)("span",{className:"activity-time",children:"Just now"})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-card system-health",children:[(0,d.jsx)("h3",{children:"System Health"}),(0,d.jsxs)("div",{className:"health-indicators",children:[(0,d.jsxs)("div",{className:"health-item",children:[(0,d.jsx)("span",{className:"health-label",children:"Database"}),(0,d.jsx)("span",{className:"health-status status-good",children:"\u2705 Healthy"})]}),(0,d.jsxs)("div",{className:"health-item",children:[(0,d.jsx)("span",{className:"health-label",children:"Migrations"}),(0,d.jsx)("span",{className:"health-status status-good",children:"\u2705 v5 Current"})]}),(0,d.jsxs)("div",{className:"health-item",children:[(0,d.jsx)("span",{className:"health-label",children:"Security"}),(0,d.jsx)("span",{className:"health-status status-good",children:"\u2705 Secured"})]}),(0,d.jsxs)("div",{className:"health-item",children:[(0,d.jsx)("span",{className:"health-label",children:"CMMS Features"}),(0,d.jsx)("span",{className:"health-status status-good",children:"\u2705 Active"})]})]})]})]}),(r.deficiencies.critical>0||r.equipment.outOfService>0||r.workOrders.overdue>0||r.loadTests.overdue>0||r.calibrations.overdue>0||r.pmSchedules.overdue>0)&&(0,d.jsxs)("div",{className:"critical-alerts",children:[(0,d.jsx)("h3",{children:"\ud83d\udea8 Critical Alerts"}),(0,d.jsxs)("div",{className:"alert-list",children:[r.deficiencies.critical>0&&(0,d.jsxs)("div",{className:"alert-item critical",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\u26a0\ufe0f"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.deficiencies.critical," critical deficiencies require immediate attention"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/deficiencies?filter=critical",children:"View Details"})]}),r.equipment.outOfService>0&&(0,d.jsxs)("div",{className:"alert-item warning",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\ud83d\udd27"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.equipment.outOfService," assets are out of service"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/equipment?filter=out_of_service",children:"View Assets"})]}),r.workOrders.overdue>0&&(0,d.jsxs)("div",{className:"alert-item warning",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\ud83d\udccb"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.workOrders.overdue," work orders are overdue"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/work-orders?filter=overdue",children:"View Work Orders"})]}),r.loadTests.overdue>0&&(0,d.jsxs)("div",{className:"alert-item critical",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\ud83c\udfd7\ufe0f"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.loadTests.overdue," load tests are overdue - compliance risk!"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/load-tests?filter=overdue",children:"View Load Tests"})]}),r.calibrations.overdue>0&&(0,d.jsxs)("div",{className:"alert-item warning",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\ud83d\udccf"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.calibrations.overdue," calibrations are overdue"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/calibrations?filter=overdue",children:"View Calibrations"})]}),r.pmSchedules.overdue>0&&(0,d.jsxs)("div",{className:"alert-item warning",children:[(0,d.jsx)("span",{className:"alert-icon",children:"\ud83d\udd27"}),(0,d.jsxs)("span",{className:"alert-text",children:[r.pmSchedules.overdue," preventive maintenance tasks are overdue"]}),(0,d.jsx)("button",{className:"alert-action",onClick:()=>window.location.hash="#/preventive-maintenance?filter=overdue",children:"View PM Schedule"})]})]})]}),(0,d.jsxs)("div",{className:"compliance-summary",children:[(0,d.jsx)("h3",{children:"\ud83d\udcca Compliance Summary"}),(0,d.jsxs)("div",{className:"compliance-grid",children:[(0,d.jsxs)("div",{className:"compliance-item",children:[(0,d.jsxs)("div",{className:"compliance-header",children:[(0,d.jsx)("span",{className:"compliance-title",children:"ASME B30 Compliance"}),(0,d.jsxs)("span",{className:"compliance-percentage",children:[r.equipment.total>0?Math.round((r.equipment.total-r.deficiencies.critical)/r.equipment.total*100):100,"%"]})]}),(0,d.jsx)("div",{className:"compliance-bar",children:(0,d.jsx)("div",{className:"compliance-fill",style:{width:(r.equipment.total>0?(r.equipment.total-r.deficiencies.critical)/r.equipment.total*100:100)+"%"}})})]}),(0,d.jsxs)("div",{className:"compliance-item",children:[(0,d.jsxs)("div",{className:"compliance-header",children:[(0,d.jsx)("span",{className:"compliance-title",children:"OSHA 1910.179 Compliance"}),(0,d.jsxs)("span",{className:"compliance-percentage",children:[r.equipment.total>0?Math.round((r.equipment.total-r.deficiencies.critical)/r.equipment.total*100):100,"%"]})]}),(0,d.jsx)("div",{className:"compliance-bar",children:(0,d.jsx)("div",{className:"compliance-fill",style:{width:(r.equipment.total>0?(r.equipment.total-r.deficiencies.critical)/r.equipment.total*100:100)+"%"}})})]})]})]}),(0,d.jsxs)("div",{className:"dashboard-footer",children:[(0,d.jsxs)("p",{children:["Last updated: ",(new Date).toLocaleString()]}),(0,d.jsx)("p",{children:"JSG Inspections CMMS v2.0 - P2 Implementation Complete"})]}),j&&(0,d.jsx)(n.default,{isOpen:j,onClose:()=>v(!1),metrics:N})]})}}}]);
//# sourceMappingURL=879.84069522.chunk.js.map